<!DOCTYPE html>
<!-- This Source Code Form is subject to the terms of the Mozilla Public
   - License, v. 2.0. If a copy of the MPL was not distributed with this
   - file, You can obtain one at http://mozilla.org/MPL/2.0/. -->
<html>
  <head>
    <meta charset="utf-8">
    <meta name="availableLanguages" content="">
    <meta name="defaultLanguage" content="en-US">
    <meta name='theme-color' content='#ff5000'>
    <link rel="shortcut icon" href="img/favicon.ico" />
    <title data-l10n-id="preferences"></title>
    <script>
      function initSettingsListener (e) {
        window.initSettings = e.detail
        window.removeEventListener('settings-updated', initSettingsListener)
      }
      function initSiteSettingsListener (e) {
        window.initSiteSettings = e.detail
        window.removeEventListener('site-settings-updated', initSiteSettingsListener)
      }
      window.addEventListener('settings-updated', initSettingsListener)
      window.addEventListener('site-settings-updated', initSiteSettingsListener)
      window.addEventListener('language', function (evt) {
        document.l10n.requestLanguages([evt.detail.langCode])
        document.getElementsByName('availableLanguages')[0].content = evt.detail.languageCodes.join(', ')
        window.languageCodes = evt.detail.languageCodes
      })
      window.addEventListener('load', function () {
        var po = document.createElement('script'); po.async = true;
        po.src = 'gen/aboutPages.entry.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(po, s);
        window.dispatchEvent(new CustomEvent('request-language'))
      })
    </script>
    <script src="ext/l20n.min.js" async></script>
    <link rel="localization" href="locales/{locale}/preferences.properties">
  </head>
  <body>
    <div id="appContainer"/>
  </body>
</html>
